psblog - a small python blog engine
-----------------------------------

NOTE:

    This is the "engine" that powers my personal blog.
    However, it's not yet ready to be used by others, really.
    If you use it regardless, please do so under the assumption that
    that it WILL randomly delete everything it can.
    This is pre-alpha stage software.

Overview:

    Psblog uses the markdown format for posts and comments.
    Data is stored in text files, not in a database.

    Unlike most other blog engines, it does not run all the time and
    does not dynamically build the pages, but instead compiles
    everything down to static html.
    The comment form targets a simple cgi script which then triggers
    a recompile.

    Pros:
        - as fast as webpages can get (static html output)
        - no external dependencies (no database needed)
        - small source, easy to hack on

    Cons:
        - not too flexible (static html output)
        - lacks many features
        - not tested much
        - still pretty hacky

Files and Directories:

    src/ - cgi scripts and python modules

    log/ - logs

    data/ - the data of the blog
        Every page has three files here:
            .text, containing the markdown source
            .meta, containing some meta information
            .comments, containing the comments of this page

    out/ - the generated html files

Deployment:

    - edit src/config.py and enter your settings
    - create the out/ directory, and in it another directory named after
      the current year (mkdir -p out/2011)
    - configure your webserver to use HTTP auth for admin.py
    - make sure that admin.py and comment.py are executable for your
      webserver
    - stop your server from serving the data/ and the log/ directories and
      anything in them
    - set up content-negotiation (the engine creates gzipped versions of
      html, xml, and css files)
    - the blog's root is the "out" directory

Bugs:

    No good error strategy - some parts ignore errors and fake information,
    some parts just exit.

    The admin cgi is hacky as hell.

    No threaded comments.

    The comment-preview does not preserve linebreaks and thus
    displays wrong results (switch to POST to handle this?).

    It's not possible to add posts containing UTF-8 characters.

    On a related note: the whole unicode encode/decode issue is seriously
    fucked up.

    The markdown translator is not very good.

    HTML form handling is implemented very, very badly.

    There is no real solution in place to handle javascript
    (incl. minifying etc).

    The blog needs year directories in the out directory. It should
    make those.

    The filenames in the data/ dir are ugly - better check for collisions
    and then add a number instead of this datetime stuff.

    Categories are not used for anything.

Author:

    Richard Wossal <richard@r-wos.org>

License:

    Copyright (c) 2011 by Richard Wossal <richard@r-wos.org>

    Permission to use, copy, modify, and distribute this software and its
    documentation for any purpose and without fee is hereby granted, provided
    that the above copyright notice appear in all copies and that both that
    copyright notice and this permission notice appear in supporting
    documentation. This software is provided "as is" without express or
    implied warranty.

